<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Â∏ÅÂÆâÈáèÂåñ‰∫§ÊòìÁõëÊéßÁ≥ªÁªü</title>

    <!-- SocketIO Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.2/socket.io.js"></script>

    <!-- Chart.js for graphs -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>üöÄ Â∏ÅÂÆâÈáèÂåñ‰∫§ÊòìÁõëÊéß</h1>
            <div class="status-bar">
                <div class="status-item">
                    <span class="label">ËøûÊé•Áä∂ÊÄÅ:</span>
                    <span id="connection-status" class="status disconnected">Êú™ËøûÊé•</span>
                </div>
                <div class="status-item">
                    <span class="label">ÁõëÊéßÁä∂ÊÄÅ:</span>
                    <span id="monitoring-status" class="status stopped">Â∑≤ÂÅúÊ≠¢</span>
                </div>
                <div class="status-item">
                    <span class="label">Êõ¥Êñ∞Êó∂Èó¥:</span>
                    <span id="last-update">--:--:--</span>
                </div>
            </div>
            <div class="controls">
                <button id="start-btn" class="btn btn-success">ÂºÄÂßãÁõëÊéß</button>
                <button id="stop-btn" class="btn btn-danger">ÂÅúÊ≠¢ÁõëÊéß</button>
                <button id="refresh-btn" class="btn btn-info">Âà∑Êñ∞Êï∞ÊçÆ</button>
                <button id="settings-btn" class="btn btn-warning">Á≠ñÁï•ËÆæÁΩÆ</button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Signals Section -->
            <section class="card signals-section">
                <h2>üö® ‰∫§Êòì‰ø°Âè∑</h2>
                <div class="signals-data">
                    <div class="signal-count">
                        <span class="label">ÂΩìÂâç‰ø°Âè∑Êï∞Èáè:</span>
                        <span id="signal-count" class="count">0</span>
                    </div>
                    <div id="signal-list" class="signal-list">
                        <p class="no-signals">ÊöÇÊó†‰ø°Âè∑</p>
                    </div>
                </div>
            </section>

            <!-- BTC Section -->
            <section class="card btc-section">
                <h2>üìä BTC/USDT ÁõëÊéßÊù°‰ª∂</h2>
                <div class="btc-data">
                    <div class="price-display">
                        <div class="price">
                            <span class="currency">$</span>
                            <span id="btc-price">--,---</span>
                        </div>
                        <div class="change">
                            <span id="btc-change">--.--%</span>
                        </div>
                    </div>
                    <div class="conditions">
                        <div class="condition-item">
                            <span class="label">ÊÄª‰ΩìÊù°‰ª∂:</span>
                            <span id="btc-condition-status" class="condition-status">Ê£ÄÊü•‰∏≠...</span>
                        </div>
                        <div class="condition-details">
                            <div class="detail-item">
                                <span class="label">24hÊåØÂπÖ:</span>
                                <span id="btc-volatility">--%</span>
                            </div>
                            <div class="detail-item">
                                <span class="label">24hÊ∂®ÂπÖ:</span>
                                <span id="btc-growth">--%</span>
                            </div>
                        </div>

                        <!-- BTC ÊäÄÊúØÊåáÊ†áËØ¶ÊÉÖ -->
                        <div class="indicators-section">
                            <h3>üìà ÊäÄÊúØÊåáÊ†áËØ¶ÊÉÖ</h3>

                            <!-- 4Â∞èÊó∂ÊåáÊ†á -->
                            <div class="timeframe-indicators">
                                <h4>4Â∞èÊó∂ (4h)</h4>
                                <div class="indicator-grid">
                                    <div class="indicator-item">
                                        <span class="label">BOLL‰∏äËΩ®:</span>
                                        <span id="btc-boll-4h-upper">--</span>
                                    </div>
                                    <div class="indicator-item">
                                        <span class="label">BOLL‰∏≠ËΩ®:</span>
                                        <span id="btc-boll-4h-middle">--</span>
                                    </div>
                                    <div class="indicator-item">
                                        <span class="label">BOLL‰∏ãËΩ®:</span>
                                        <span id="btc-boll-4h-lower">--</span>
                                    </div>
                                    <div class="indicator-item">
                                        <span class="label">KDJ K:</span>
                                        <span id="btc-kdj-4h-k">--</span>
                                    </div>
                                    <div class="indicator-item">
                                        <span class="label">KDJ D:</span>
                                        <span id="btc-kdj-4h-d">--</span>
                                    </div>
                                    <div class="indicator-item">
                                        <span class="label">KDJ J:</span>
                                        <span id="btc-kdj-4h-j">--</span>
                                    </div>
                                </div>
                            </div>

                            <!-- 1Â∞èÊó∂ÊåáÊ†á -->
                            <div class="timeframe-indicators">
                                <h4>1Â∞èÊó∂ (1h)</h4>
                                <div class="indicator-grid">
                                    <div class="indicator-item">
                                        <span class="label">BOLL‰∏äËΩ®:</span>
                                        <span id="btc-boll-1h-upper">--</span>
                                    </div>
                                    <div class="indicator-item">
                                        <span class="label">BOLL‰∏≠ËΩ®:</span>
                                        <span id="btc-boll-1h-middle">--</span>
                                    </div>
                                    <div class="indicator-item">
                                        <span class="label">BOLL‰∏ãËΩ®:</span>
                                        <span id="btc-boll-1h-lower">--</span>
                                    </div>
                                    <div class="indicator-item">
                                        <span class="label">KDJ K:</span>
                                        <span id="btc-kdj-1h-k">--</span>
                                    </div>
                                    <div class="indicator-item">
                                        <span class="label">KDJ D:</span>
                                        <span id="btc-kdj-1h-d">--</span>
                                    </div>
                                    <div class="indicator-item">
                                        <span class="label">KDJ J:</span>
                                        <span id="btc-kdj-1h-j">--</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- DOGE Section -->
            <section class="card doge-section">
                <h2>üíé DOGE/USDT ÂÆûÊó∂Êï∞ÊçÆ</h2>
                <div class="doge-data">
                    <div class="price-display">
                        <div class="price">
                            <span class="currency">$</span>
                            <span id="doge-price">0.------</span>
                        </div>
                        <div class="change">
                            <span id="doge-change">--.--%</span>
                        </div>
                    </div>

                    <!-- DOGEÂ∏ÇÂú∫ÁªüËÆ° -->
                    <div class="condition-details">
                        <div class="detail-item">
                            <span class="label">24hÊåØÂπÖ:</span>
                            <span id="doge-volatility">--%</span>
                        </div>
                        <div class="detail-item">
                            <span class="label">24hÊ∂®ÂπÖ:</span>
                            <span id="doge-growth">--%</span>
                        </div>
                    </div>

                    <!-- DOGE ÊäÄÊúØÊåáÊ†áËØ¶ÊÉÖ -->
                    <div class="indicators-section">
                        <h3>üìä ÊäÄÊúØÊåáÊ†áËØ¶ÊÉÖ</h3>

                        <!-- 1Â∞èÊó∂ÊåáÊ†á -->
                        <div class="timeframe-indicators">
                            <h4>1Â∞èÊó∂ (1h)</h4>
                            <div class="indicator-grid">
                                <div class="indicator-item">
                                    <span class="label">BOLL‰∏äËΩ®:</span>
                                    <span id="doge-boll-1h-upper">--</span>
                                </div>
                                <div class="indicator-item">
                                    <span class="label">BOLL‰∏≠ËΩ®:</span>
                                    <span id="doge-boll-1h-middle">--</span>
                                </div>
                                <div class="indicator-item">
                                    <span class="label">BOLL‰∏ãËΩ®:</span>
                                    <span id="doge-boll-1h-lower">--</span>
                                </div>
                                <div class="indicator-item">
                                    <span class="label">KDJ K:</span>
                                    <span id="doge-kdj-1h-k">--</span>
                                </div>
                                <div class="indicator-item">
                                    <span class="label">KDJ D:</span>
                                    <span id="doge-kdj-1h-d">--</span>
                                </div>
                                <div class="indicator-item">
                                    <span class="label">KDJ J:</span>
                                    <span id="doge-kdj-1h-j">--</span>
                                </div>
                            </div>
                        </div>

                        <!-- 15ÂàÜÈíüÊåáÊ†á -->
                        <div class="timeframe-indicators">
                            <h4>15ÂàÜÈíü (15m)</h4>
                            <div class="indicator-grid">
                                <div class="indicator-item">
                                    <span class="label">BOLL‰∏äËΩ®:</span>
                                    <span id="doge-boll-15m-upper">--</span>
                                </div>
                                <div class="indicator-item">
                                    <span class="label">BOLL‰∏≠ËΩ®:</span>
                                    <span id="doge-boll-15m-middle">--</span>
                                </div>
                                <div class="indicator-item">
                                    <span class="label">BOLL‰∏ãËΩ®:</span>
                                    <span id="doge-boll-15m-lower">--</span>
                                </div>
                                <div class="indicator-item">
                                    <span class="label">KDJ K:</span>
                                    <span id="doge-kdj-15m-k">--</span>
                                </div>
                                <div class="indicator-item">
                                    <span class="label">KDJ D:</span>
                                    <span id="doge-kdj-15m-d">--</span>
                                </div>
                                <div class="indicator-item">
                                    <span class="label">KDJ J:</span>
                                    <span id="doge-kdj-15m-j">--</span>
                                </div>
                            </div>
                        </div>

                        <!-- 1ÂàÜÈíüÊåáÊ†á -->
                        <div class="timeframe-indicators">
                            <h4>1ÂàÜÈíü (1m)</h4>
                            <div class="indicator-grid">
                                <div class="indicator-item">
                                    <span class="label">BOLL‰∏äËΩ®:</span>
                                    <span id="doge-boll-1m-upper">--</span>
                                </div>
                                <div class="indicator-item">
                                    <span class="label">BOLL‰∏≠ËΩ®:</span>
                                    <span id="doge-boll-1m-middle">--</span>
                                </div>
                                <div class="indicator-item">
                                    <span class="label">BOLL‰∏ãËΩ®:</span>
                                    <span id="doge-boll-1m-lower">--</span>
                                </div>
                                <div class="indicator-item">
                                    <span class="label">KDJ K:</span>
                                    <span id="doge-kdj-1m-k">--</span>
                                </div>
                                <div class="indicator-item">
                                    <span class="label">KDJ D:</span>
                                    <span id="doge-kdj-1m-d">--</span>
                                </div>
                                <div class="indicator-item">
                                    <span class="label">KDJ J:</span>
                                    <span id="doge-kdj-1m-j">--</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Log Section -->
            <section class="card log-section">
                <h2>üìù ÂÆûÊó∂Êó•Âøó</h2>
                <div class="log-container">
                    <div id="log-content" class="log-content">
                        <p class="log-entry">Á≠âÂæÖËøûÊé•...</p>
                    </div>
                    <button id="clear-log-btn" class="btn btn-secondary">Ê∏ÖÁ©∫Êó•Âøó</button>
                </div>
            </section>
        </main>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>‚öôÔ∏è Á≠ñÁï•ÂèÇÊï∞ËÆæÁΩÆ</h2>
                <span class="close" id="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <form id="settings-form">
                    <!-- BTCÊù°‰ª∂ËÆæÁΩÆ -->
                    <div class="setting-group">
                        <h3>üìä BTCÁõëÊéßÊù°‰ª∂</h3>
                        <div class="setting-item">
                            <label for="volatility-threshold">24Â∞èÊó∂ÊåØÂπÖÈòàÂÄº (%):</label>
                            <input type="number" id="volatility-threshold" step="0.01" min="0" max="10">
                            <span class="help-text">ÂΩìÂâçËÆæÁΩÆ: ÊåØÂπÖ < Ê≠§ÂÄºÊó∂Êª°Ë∂≥Êù°‰ª∂</span>
                        </div>
                        <div class="setting-item">
                            <label for="growth-threshold">24Â∞èÊó∂Ê∂®ÂπÖÈòàÂÄº (%):</label>
                            <input type="number" id="growth-threshold" step="0.01" min="0" max="10">
                            <span class="help-text">ÂΩìÂâçËÆæÁΩÆ: Ê∂®ÂπÖ > Ê≠§ÂÄºÊó∂Êª°Ë∂≥Êù°‰ª∂</span>
                        </div>
                        <div class="setting-item">
                            <label for="kdj-threshold">KDJÈòàÂÄº:</label>
                            <input type="number" id="kdj-threshold" step="1" min="10" max="90">
                            <span class="help-text">4Â∞èÊó∂Âíå1Â∞èÊó∂KDJÈÉΩË¶Å < Ê≠§ÂÄº</span>
                        </div>
                    </div>

                    <!-- DOGE‰ø°Âè∑ËÆæÁΩÆ -->
                    <div class="setting-group">
                        <h3>üíé DOGE‰∫§Êòì‰ø°Âè∑</h3>
                        <div class="setting-item">
                            <label for="oversold-1">‰π∞ÂÖ•‰ø°Âè∑1 KDJÈòàÂÄº:</label>
                            <input type="number" id="oversold-1" step="1" min="5" max="30">
                            <span class="help-text">1Â∞èÊó∂Âíå15ÂàÜÈíü KDJ < Ê≠§ÂÄº</span>
                        </div>
                        <div class="setting-item">
                            <label for="oversold-2">‰π∞ÂÖ•‰ø°Âè∑2 KDJÈòàÂÄº:</label>
                            <input type="number" id="oversold-2" step="1" min="5" max="30">
                            <span class="help-text">1Â∞èÊó∂ KDJ < Ê≠§ÂÄº</span>
                        </div>
                        <div class="setting-item">
                            <label for="oversold-3">‰π∞ÂÖ•‰ø°Âè∑3 KDJÈòàÂÄº:</label>
                            <input type="number" id="oversold-3" step="1" min="5" max="30">
                            <span class="help-text">15ÂàÜÈíü KDJ < Ê≠§ÂÄº</span>
                        </div>
                        <div class="setting-item">
                            <label for="oversold-4">1ÂàÜÈíü KDJÈòàÂÄº:</label>
                            <input type="number" id="oversold-4" step="1" min="5" max="30">
                            <span class="help-text">1ÂàÜÈíü KDJ < Ê≠§ÂÄº</span>
                        </div>
                        <div class="setting-item">
                            <label for="overbought">ÂçñÂá∫‰ø°Âè∑ KDJÈòàÂÄº:</label>
                            <input type="number" id="overbought" step="1" min="70" max="95">
                            <span class="help-text">KDJ > Ê≠§ÂÄºÊó∂Ëß¶ÂèëÂçñÂá∫</span>
                        </div>
                    </div>

                    <!-- ÁõëÊéßËÆæÁΩÆ -->
                    <div class="setting-group">
                        <h3>üîÑ ÁõëÊéßËÆæÁΩÆ</h3>
                        <div class="setting-item">
                            <label for="update-interval">ÁõëÊéßÈó¥Èöî (Áßí):</label>
                            <input type="number" id="update-interval" step="1" min="1" max="60">
                            <span class="help-text">Êï∞ÊçÆÊõ¥Êñ∞È¢ëÁéá</span>
                        </div>
                    </div>

                    <div class="modal-footer">
                        <button type="button" id="load-default-btn" class="btn btn-secondary">ÊÅ¢Â§çÈªòËÆ§</button>
                        <button type="button" id="save-settings-btn" class="btn btn-success">‰øùÂ≠òËÆæÁΩÆ</button>
                        <button type="button" id="cancel-settings-btn" class="btn btn-danger">ÂèñÊ∂à</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>